stages:
    - deploy

pages:
    stage: deploy
    image: python:latest
    only:
        - /v[0-9]+.*/
    script:
        - apt-get -qq update
        - apt-get -y -qq install build-essential cmake
        - python3 -mvenv venv
        - source venv/bin/activate
        - make install
        - make docs
        - mv docs/_build/html public
    artifacts:
        paths:
            - public
